{{- if not .Values.secrets.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "bun-cloud-agent.fullname" . }}
  labels:
    {{- include "bun-cloud-agent.labels" . | nindent 4 }}
type: Opaque
stringData:
  {{- /* AI provider API keys */ -}}
  {{- if .Values.secrets.openaiApiKey }}
  OPENAI_API_KEY: {{ .Values.secrets.openaiApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.anthropicApiKey }}
  ANTHROPIC_API_KEY: {{ .Values.secrets.anthropicApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.googleGenerativeAiApiKey }}
  GOOGLE_GENERATIVE_AI_API_KEY: {{ .Values.secrets.googleGenerativeAiApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.googleVertexApiKey }}
  GOOGLE_VERTEX_API_KEY: {{ .Values.secrets.googleVertexApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.mistralApiKey }}
  MISTRAL_API_KEY: {{ .Values.secrets.mistralApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.cohereApiKey }}
  COHERE_API_KEY: {{ .Values.secrets.cohereApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.xaiApiKey }}
  XAI_API_KEY: {{ .Values.secrets.xaiApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.groqApiKey }}
  GROQ_API_KEY: {{ .Values.secrets.groqApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.deepseekApiKey }}
  DEEPSEEK_API_KEY: {{ .Values.secrets.deepseekApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.cerebrasApiKey }}
  CEREBRAS_API_KEY: {{ .Values.secrets.cerebrasApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.fireworksApiKey }}
  FIREWORKS_API_KEY: {{ .Values.secrets.fireworksApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.togetherAiApiKey }}
  TOGETHER_AI_API_KEY: {{ .Values.secrets.togetherAiApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.perplexityApiKey }}
  PERPLEXITY_API_KEY: {{ .Values.secrets.perplexityApiKey | quote }}
  {{- end }}
  {{- if .Values.secrets.azureApiKey }}
  AZURE_API_KEY: {{ .Values.secrets.azureApiKey | quote }}
  {{- end }}
  {{- /* AWS Bedrock */ -}}
  {{- if .Values.secrets.awsAccessKeyId }}
  AWS_ACCESS_KEY_ID: {{ .Values.secrets.awsAccessKeyId | quote }}
  {{- end }}
  {{- if .Values.secrets.awsSecretAccessKey }}
  AWS_SECRET_ACCESS_KEY: {{ .Values.secrets.awsSecretAccessKey | quote }}
  {{- end }}
  {{- if .Values.secrets.awsRegion }}
  AWS_REGION: {{ .Values.secrets.awsRegion | quote }}
  {{- end }}
  {{- /* Chat platforms */ -}}
  {{- if .Values.secrets.slackBotToken }}
  SLACK_BOT_TOKEN: {{ .Values.secrets.slackBotToken | quote }}
  {{- end }}
  {{- if .Values.secrets.slackSigningSecret }}
  SLACK_SIGNING_SECRET: {{ .Values.secrets.slackSigningSecret | quote }}
  {{- end }}
  {{- if .Values.secrets.discordApplicationId }}
  DISCORD_APPLICATION_ID: {{ .Values.secrets.discordApplicationId | quote }}
  {{- end }}
  {{- if .Values.secrets.discordBotToken }}
  DISCORD_BOT_TOKEN: {{ .Values.secrets.discordBotToken | quote }}
  {{- end }}
  {{- if .Values.secrets.discordPublicKey }}
  DISCORD_PUBLIC_KEY: {{ .Values.secrets.discordPublicKey | quote }}
  {{- end }}
  {{- if .Values.secrets.telegramBotToken }}
  TELEGRAM_BOT_TOKEN: {{ .Values.secrets.telegramBotToken | quote }}
  {{- end }}
  {{- if .Values.secrets.telegramSecretToken }}
  TELEGRAM_SECRET_TOKEN: {{ .Values.secrets.telegramSecretToken | quote }}
  {{- end }}
  {{- /* Vault */ -}}
  {{- if .Values.secrets.vaultToken }}
  VAULT_TOKEN: {{ .Values.secrets.vaultToken | quote }}
  {{- end }}
  {{- if .Values.secrets.vaultRoleId }}
  VAULT_ROLE_ID: {{ .Values.secrets.vaultRoleId | quote }}
  {{- end }}
  {{- if .Values.secrets.vaultSecretId }}
  VAULT_SECRET_ID: {{ .Values.secrets.vaultSecretId | quote }}
  {{- end }}
{{- end }}
